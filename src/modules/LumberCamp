import {RessourceBuilding} from "./RessourceBuilding";
import { Town } from "./Town";

export class LumberCamp extends RessourceBuilding{
    constructor(posX:number, posY:number, texture:string, currentAmount:number, level:number, town:Town){
        super(posX, posY, texture, level, currentAmount, town)
    }

    ressource:string = "wood";
    currentAmount:number;
    town:Town;

    update(time: number): void {
        this.currentAmount += ((this.prodPerLevel[this.level])/60);
        if (this.currentAmount > this.capacity[this.level]){
            this.currentAmount = this.capacity[this.level]
            this.town.wood = this.currentAmount
        }
    }

    levelUp(): void {
        if (this.currentAmount >= (this.buildcostPerLeveL[this.level+1]) && this.town.stone && this.town.gold &&this.level < 15){
            this.currentAmount -= this.buildcostPerLeveL[this.level+1];
            this.level++;
        }
    }
}